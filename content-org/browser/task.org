#+TITLE: Browser
#+DATE:<2022-06-29 Wed 15:54>
#+FILETAGS: browser

* Render Pipeline
JS -> style -> layout -> paint -> composite

** Layout

计算元素的尺寸，位置，更改 width, height, position 等属性会 relayout

** Paint

绘制像素，更改 box-shadow, background-color, text-color 等属性会 repaint

* 任务队列

requestIdleCallback 和 requestAnimationFrame 的区别

** requestIdleCallback

在每一帧的空闲期执行，可能不执行

** requestAnimationFrame

1. 通过事件监听器注册的回调将会在同一帧中执行
2. 通过 raf 注册的回调将在下一帧中执行
