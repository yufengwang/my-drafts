<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Add React in One Minute</title>
    <link rel="stylesheet" href="./index.css" />
  </head>
  <body>
    <h2>Add React in One Minute</h2>
    <p>This page demonstrates using React with no build tooling.</p>
    <p>React is loaded as a script tag.</p>

    <!-- We will put our React component inside this div. -->
    <div id="like_button_container"></div>
    <!-- <div id="root"></div> -->
    <div id="root">
      <!-- <div> -->
        <h1><span>Count:</span><b>1</b></h1>
        <!-- <h2>hello</h2> -->
      <!-- </div> -->
    </div>
    <button id="btn">btn</button>
    <button id="btn2">btn2</button>
    <!-- <div class="relative">
      This div element has position: relative;
    </div>
    <div class="relative-next">next div </div> -->

    <!-- Load React. -->
    <!-- Note: when deploying, replace "development.js" with "production.min.js". -->
    <!-- <script src="../lodash.custom.js"></script> -->
    <!-- <script src="./my-react.js"></script> -->
    <script src="./react.development.js"></script>
    <script src="./react-dom.development.js"></script>

    <!-- Load our React component. -->
    <script src="like_button.js"></script>
    <script>
      function print(n) {
        setTimeout(() => {
          // console.log(n);
        }, Math.floor(Math.random() * 1000));
      }
      for (var i = 0; i < 3; i++) {
        print(i);
      }
    </script>
    <script>
      const channel = new MessageChannel();
      const port1 = channel.port1;
      const port2 = channel.port2;
      port1.onmessage = function (m) {
        console.log("Got message", m);
      };
      port2.postMessage("send message");
    </script>
    <script>
      const btn = document.querySelector("#btn");

      btn.addEventListener("click", function () {
        Promise.resolve().then(function () {
          console.log("resolved-1");
        });
        console.log("click-1");
      });

      btn.addEventListener("click", function () {
        Promise.resolve().then(function () {
          console.log("resolved-2");
        });
        console.log("click-2");
      });

      // const evt = new MouseEvent("click");
      // btn.dispatchEvent(evt);
      //  btn.click()
      document.getElementById("btn2").addEventListener("click", function () {
        console.log("About to call click");
        btn.click();
        console.log("Done calling click");
      });
    </script>
  </body>
</html>
